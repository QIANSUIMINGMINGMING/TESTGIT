### 一、实习项目选题

1. 自选命题：大致是一个安卓手机端辞书app的开发，用户可以根据自己的需求，添加辞书并设置词条，之后遇到这个词条时，可以随时通过手机扫描的方式查看相关解释。
2. 电信学院刘儿兀教授指导的关于进口博览会AR室内导航的创新项目，我在暑假期间进行了实现室内导航app的一些显示效果。（主要是如何正确显示导航的指路箭头等）

### 二、实习过程中使用的开发工具

+ OCR文字识别平台：百度AI
+ 安卓app开发工具：android studio
+ 图形显示与脚本代码：unity3d2018，vs2019
+ 数据库：SQLite
+ 安卓版本：Android5.1(Lollipop) API级别22
+ 编程语言：JAVA, C#

### 三、实习日程安排

日期：由7.13-8.13之间的四周

1. 自选命题：
   + 第一周：确定选题，确定项目的具体实现流程，学习可能用到的安卓系统API
   + 第二周：学习安卓平台下软件的内嵌数据库相关API（SQLite），以及触摸，摇晃手机等用户操作的API。完成一个小程序，实现使手机打开摄像头并保持静止时在手机屏幕上显示一串字符，手机运动时，字符消失的功能。
   + 第三周：继续学习安卓软件内嵌数据库的API等知识，建立符合软件要求数据表，将本周完成的小程序挂接百度AI（可选）之类的云计算平台，使小程序获得OCR文字识别功能，并将识别到的文字显示在屏幕上。
   + 第四周：优化整个项目，实现此前未实现的功能。
2. 创新项目：
   + 第一周：熟悉安卓开发平台android studio和Android emulator的功能和使用方法
   + 第二周：研究安卓手机下的坐标系概念，学习安卓系统包括陀螺仪等的运动传感器相关API的调用方法。
   + 第三周：unity端指路箭头的脚本以及安卓studio端对传感器API的调用相关代码
   + 第四周：unity端与安卓端的整合工作

### 四、项目设计思路

#### 辞书app：

1. 基本用法：该app可以输入自定义的词条，然后扫描并显示解释。在作为词典的同时，我还实现了动态扫描的功能，具体来说大致是：当用户拿起手机并开启手机摄像头，程序会调用手机运动传感器检测手机是否处于运动状态。当用户需要扫描功能时，需要对准一个词条时，通常来讲，此时手机处于静止状态，当程序检测到手机处于此状态，就会调用文字识别的API进行OCR识别。当识别到一串字符时，将其放入软件自带数据库中进行检索，若寻找到相关词条，会将解释放显示在屏幕上对应区域。当用户读完解释，会移动手机，寻找下一个需要解释的词条。此时，手机处于运动状态，传感器识别到后，会清空屏幕上显示的解释，直到手机再次处于静止状态并识别到新的词条，这种实时的检测，体现一定程度上的增强现实效果。若接入arcore等增强现实的API，还可实现识别平面，并使文字体现出附着在平面上的效果。
2. 数据库设计：每个用户拥有辞书表和词条表。考虑到将一个用户创建的所有词条放到一张表中会使检索过程异常缓慢。所以我倾向让用户先创建辞书，并在辞书中创建词条，当用户需要扫描时，需要先选择对应的辞书，然后只在辞书中检索，从而提升检索效率。具体来说，app会在用户选择时，临时在数据库中建立一个视图，包括所有该词书的词条，当用户完成所有扫描操作并关闭app或更换辞书时，数据库自动删掉该视图。这样用户在使用app时可以得到更顺滑的体验，同时也不会占据手机过多的存储空间。

#### 导航应用

1. 基本方法：用户拿着手机行动时，程序会调用手机的位置传感器、加速度传感器等各种传感器，通过一些算法获得手机的屏幕朝向相关的数据。然后unity脚本获取这些数据，并根据这些数据调整手机上的导航箭头的角度，使其始终指向地理上的目的地方向。
2. 关于unity和安卓的交互，unity端可以导出apk文件，也就是安卓手机端的可执行文件，放到手机上运行。此外，unity3d需要获取通过调用安卓手机传感器得到的数据，这样的调用比较复杂。具体来说是先将unity的jar包导出到安卓studio，然后安卓studio继承unity3d提供的类，写一些相关的功能，在通过IDE打成新的jar包供unity使用。这些步骤虽然没有什么技术含量，但相关操作非常复杂，且过程中会出现无数的错误，事实上是整个项目中最困难的步骤。
3. 坐标系相关知识的应用：手机屏幕的方向由三个角度描述，分别是方位角，俯仰角和侧倾角。具体到我使用的安卓环境中，方位角是手机屏幕与北极方向的夹角；俯仰角是手机与平行于地面平面的夹角；侧倾角是手机与垂直于地面平面的夹角。通过简单的算法，在知道目标地点的方向（与北极的夹角）我可以将这些角度，转变为unity3d中指路箭头模型的方向。以方位角举例，当手机屏幕与目标方向正好相反时，箭头在手机中应该是指向正前方的。所以当手机屏幕位于任意方向时，箭头在手机世界中的角度应该是[180 -（手机屏幕方位角-目标位置) ]。

### 五、实习过程

今年因为疫情原因，难以找到合适的企业进行实习。于是在指导老师指示我们选择自主命题进行专业实习后，因为我对手机应用开发和AR/VR技术的兴趣，以及相关技术的出色前景，我就自己设计了相关的项目进行工作。手机是当今社会中使用最广泛的民用电子设备，而AR/VR技术也是目前最为火热的领域之一，AR/VR技术在手机上的应用也非常广泛。然而，毕竟自选的项目可能不够专业，从中可以学习到的东西比较有限，于是我还参加了由电信学院刘儿兀教授带领的创新项目，关于进口博览会展馆的室内导航应用，其中我参加的小组负责该应用有关AR的部分，例如导航的指路箭头，展馆内一些logo、展区的AR识别与渲染等等，而我负责安卓手机端的指路箭头的效果。

确定了实习中进行的任务后，我便开始按部就班的着手进行项目，因为项目安排比较灵活，所以我也没有固定的任务时间，大致就是每周确定本周计划，然后挑空余时间完成本周自己设立的目标，然后在周末撰写项目进度汇报。比起实际进行代码编写，我更多的时间可能用于对完成项目所需要的知识进行学习，例如各种API的用法和原理，各种开发工具的使用等等。关于实习过程中的具体安排，我在实习日程安排中有详细说明。另外，在进行AR导航的创新项目的过程中，创新项目小组会定期进行组会，整个项目组偶尔也会召集所有小组进行组间会议，会议中会对安排任务的完成情况进行简单的汇报和交流。

### 六、实习收获

在实习过程中，我事实上收获了许多。首先是技术上的收获，我掌握了手机应用开发的基本概念和文字识别以及AR技术的相关知识，熟悉了包括安卓开发平台，unity3d等开发工具的使用方法，以及安卓API，ARcore，百度AI等多种API的使用方法，其中在使用不同的API的过程中，我收获最大。在进行这些项目之前，我对于程序设计的概念多来自于一些关于编程基础的课程设计，这些课程设计不需要使用任何框架或API，通常是从零开始进行编程。通过此前的各式课程设计，我掌握了编程语言基础、各种常用的数据结构与算法等，但却没有机会接触程序设计在实际工程中的具体应用。在此之前，我甚至连api与sdk等这些常用的概念都不了解，更不用说使用它们，甚至把多种API结合在一起使用的经验了。也因此，我之前对于大到设计模式，小到面向对象的编程思路，函数与变量命名的标准这些好处一直缺乏一种直观的感受。但在这次专业实习的过程中，尽管我既没有写上千行的代码，也没有前往一个互联网公司看到真正的程序员如何工作，我也对实际商业、工程中，包括手机应用在内的各种软件的开发模式有了更深的理解。

关于我从不同的API学习过程中得到的具体收获，我想以安卓API为例，因为安卓系统API是我在实习过程中接触到的规模最为庞大，细节最多的API。在进行项目的过程中，我理解了其中的一些模块的工作原理。例如，通常来说，程序以main（）函数为入口开始运行，但在安卓操作系统中则并非如此。安卓系统中的activity类是应用的关键组件，所有应用都是由多个activity组成的，安卓系统会调用不同的回调方法启动不同的activity从而启动应用，这个特性是因为手机的使用特点决定的，我们在使用一个手机应用时，需要穿插使用其他应用，例如，当我们点外卖或者网购时，我们需要用微信或支付宝进行支付，这时，我们的手机会直接通过特定的回调方法跳转到支付界面的activity而不是主界面。所以进行安卓手机应用开发的大致步骤可概括为：根据设计的内容选择合适的API，针对某一个应用场景设计一个继承于activity的子类，跟据使用场景设计实现特定接口的回调函数，设计UI界面。例如，我编写的导航应用中需要用到传感器的信息，我需要设计一个MainActivity继承于Activity类并实现SensorEventListener接口，包括实现onSensorChange（），onPause（）。对于一个安卓应用，我需要设计多个activity从而获得完善的功能。当然，因为我在导航应用中需要结合unity使用，所以，我设计的activity类继承于Unity提供的UnityPlayerActivity，当然，这个类也是继承于Activity类的子类，体现了unity在安卓手机端的应用特点，导出以unity作为开发平台的各种安卓手机端的游戏和应用实际上都是导出一个这样的Activity运行于安卓系统中。理解这些知识，不仅有利于我进行简单的应用开发，而且对我未来进行更高端的开发进行铺垫，例如，若想设计一个unity这样的游戏开发引擎，我需要思考如何基于引擎制作的项目自动生成一个可以运行在安卓端的Activity。

另外，在学习安卓系统这样的API过程中，我不仅学到了它的特点和用法，我还从中一定程度上体会到了一部分设计一款API或者工具供他人调用需要遵循的原则，例如一定要保证可理解性及一致性，否则会给使用者带来巨大的麻烦。例如，我参与的项目需要在unity脚本中调用安卓的API，标准流程之前在设计思路中提到过，要先把unity的jar包导出到安卓studio，再从安卓studio端写代码打包在生成一个jar包导入unity。在这个过程中，有一些很明显的问题，比如，unity.2018及以前的版本将所有unity的部分封装成一个jar包，2019的版本却把一个类从这个包里拿出来单独保存，另外，安卓studio每个版本gradle打出的jar包的存储路径不一样，我在处理这些问题时浪费了大量的时间和精力。因为通常情况下，我们不需要通过在unity脚本中调用安卓的这些API，所以可能这些不一致性通常对这两者工具的使用没什么影响，但是对于我使用的特定的开发方法，却造成了巨大的麻烦，这提示了我API不同版本保持一致性的重要意义。

除了技术上这些具体的收获，我认为我的综合能力也在实习的过程中得到了提升。最直观的提升就在于对新技术的自学能力，包括如何用搜索引擎有效率地检索得到解决特定问题的教程，如何高效读懂开发指南和技术文档等。因为在进行项目的过程中，我需要不断查阅各种API文档，并不断利用搜索引擎查找相关的教程，所以在这个过程中，我明显感觉我对API文档的结构逐渐有了更好的把控，阅读速度有了较大的提升。此外，由于我用到的文档多是用英语写的，我的英语水平可能也有所进步。这些能力在技术日新月异的互联网行业无疑是非常重要的。除了阅读文档，每周撰写项目进度也使我收获了不少。首先，在做项目或复习等事情上，我向来是容易有爱拖延的习惯。每周进行项目进度汇报，不仅可以有助于我对之前进行的工作进行一个不错的总结，还起到一个督促自己完成任务的作用。尽管我仍然有些爱拖延，通过撰写这些进度汇报，我还是或多或少改掉了一些小毛病。在AR室内导航相关的创新项目中，我参加项目小组会定时进行组会，对我来说，这是一个较为新颖、且效率较高的团队合作模式，在项目进行的同时，我的沟通和团队合作的能力也得到了一定的提升。同时，在整个项目组举行组间会议时，我还观看了不同小组的汇报展示，领略了不少有才的学长学姐进行的出色工作和想法，也收获了不少。

在使用各种API的过程中，我还认识到，我用到的这些API实质上是各种科技成果的实例化和商业化的结果。例如，在学习百度AI文字识别API的过程中，我了解到OCR技术的概念；在学习ARcore等AR相关的API时，我也对增强现实技术有了更深刻的认识。我也对支撑这些技术的OpenGL, OpenCV等开源库有了简单的了解。我认为仅仅简单学习百度AI这样封装好的简易接口意义比较小，我无法从学习它的使用方法这件事上获得对自己能力的提升，也无法接触到任何原理上的知识，或者说只是看看它的用法甚至也根本不需要学习，这些接口只能说是由那些公司提供的对某种技术的解决方案，它的迭代是飞快的，我应该将更多的精力放在对核心知识的钻研上，真正的目标应该是努力钻研，参与开发更好的解决方案。然而，因为做项目的时间有限，我没能对像OpenCV这样核心的相关知识展开学习，但也使我对于这些核心的知识有了向往和初步的了解，对我未来的学习也是有所帮助，这算是我在实习过程中在思想境界上的收获。

### 七、总结

总体来说，我认为我的这次专业实习已经达成了最初的目标，收获相当多。在进行项目工作时，我学到了很多大学课堂中很可能学不到的知识，也掌握了一些崭新的能力，还对未来可能从事且感兴趣的工作，研究的技术有了一定程度上的了解。尽管这次实习虽然因为疫情的原因没有机会到真正的企业中去，但不管是在未来的学习、生活还是工作中，这次专业实习的经验都将成为我未来的宝贵财富。